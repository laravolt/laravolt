function debounce(e,t,a){var o;return function(){var n=this,i=arguments,l=function(){o=null,a||e.apply(n,i)},r=a&&!o;clearTimeout(o),o=setTimeout(l,t),r&&e.apply(n,i)}}$((function(){const e=$('[data-role="sidebar"] .sidebar__scroller');if(e.length>0){new SimpleBar(e[0]),$(window).resize((function(){document.body.clientWidth<991?($("#topbar").addClass("full"),e.parent().addClass("hide").removeClass("show")):"full"!==localStorage.getItem("layout-mode")&&($("#topbar").removeClass("full"),e.parent().addClass("show").removeClass("hide"))}));const t=$('[data-role="sidebar-visibility-switcher"]');t.length>0&&(t.on("click",(function(){document.body.clientWidth>=991&&(e.parent().toggleClass("show").toggleClass("hide"),e.parent().hasClass("show")?($("#topbar").removeClass("full"),localStorage.setItem("layout-mode","box")):($("#topbar").addClass("full"),localStorage.setItem("layout-mode","full")))})),t.on("mouseover",(function(t){e.parent().hasClass("hide")&&e.parent().addClass("floated")})),t.on("mouseleave",(function(t){e.parent().hasClass("hide")&&e.parent().removeClass("floated")})),e.parent().on("mouseover",(function(t){e.parent().hasClass("hide")&&e.parent().addClass("floated")})),e.parent().on("mouseleave",(function(t){e.parent().hasClass("hide")&&e.parent().removeClass("floated")}))),$(document).click((function(e){$("nav.sidebar").hasClass("show")&&($(e.target).closest("nav.sidebar").length||$(e.target).closest('[data-role="sidebar-visibility-switcher"]').length||$("nav.sidebar").removeClass("show"))})),$("#sidebar .simplebar-scroll-content").scroll(debounce((function(){$("#sidebar").data("scroll",$("#sidebar .simplebar-scroll-content").scrollTop())}),500))}$('[data-role="sidenav"]').accordion({animateChildren:!1,selector:{trigger:".title:not(.empty)"}})}));class Laravolt{static init(e){e.find("table.unstackable.responsive").basictable(),e.find(".ui.checkbox").checkbox(),e.find(".ui.dropdown:not(.simple):not(.tag)").each((function(){let e=$(this),t={forceSelection:!1,selectOnKeydown:!1,fullTextSearch:!0,action:void 0!==e.data("action")?e.data("action"):"activate"};if($(this).hasClass("link")&&(t.onChange=function(e,t,a){window.location.href=e}),$(this).data("ajax")){e.data("api");let a=e.data("payload"),o=e.data("token");t.minCharacters=2,t.apiSettings={url:e.data("api")+"?term={query}",method:"post",data:{payload:a,_token:o}}}$(this).dropdown(t)})),e.find(".ui.dropdown.tag:not(.simple)").each((function(){let e=!1;if($(this).data("value")){let t=$(this).data("value").toString().split(",");1==t.length&&""==t[0]||(e=t)}$(this).dropdown({forceSelection:!1,allowAdditions:!0,fullTextSearch:!0,selectOnKeydown:!1}).dropdown("set selected",e)})),$.fn.destroyDropdown=function(){return $(this).each((function(){$(this).parent().dropdown("destroy").replaceWith($(this).addClass($(this).data("class")))}))};let t=[],a=[];e.find("select[data-depend-on]").each((function(e,o){let n=$(o),i=n.data("depend-on"),l=$("[name="+i+"]");"SELECT"==l.prop("tagName")?(void 0===t[i]&&(t[i]=[]),t[i].push(n)):"INPUT"==l.prop("tagName")&&(void 0===a[i]&&(a[i]=[]),a[i].push(n))}));for(let e of Object.keys(t)){let a=$("[name="+e+"]"),o=t[e];a.destroyDropdown(),a.dropdown({forceSelection:!1,selectOnKeydown:!1,fullTextSearch:"exact",onChange:function(e,t,a){jQuery.each(o,(function(t,a){if(e){let t=a.data("api"),o=a.data("payload"),n=a.data("token");a.api({url:t,method:"post",data:{term:e,payload:o,_token:n},on:"now",beforeSend:function(e){return a.dropdown("clear"),a.parent().addClass("loading"),e},onSuccess:function(e,t,o){let n=e.results;a.dropdown("change values",n)},onComplete:function(e,t,o){a.parent().removeClass("loading")},onError:function(e,t,a){void 0!==a.responseJSON.exception?alert(a.responseJSON.exception+" in "+a.responseJSON.file+" line "+a.responseJSON.line+": "+a.responseJSON.message):alert("Something goes wrong with DropdownDB, but APP_DEBUG off. See application log (usually in storage/logs/laravel.log) for complete error message.")}})}else a.dropdown("clear"),a.dropdown("setup menu",{values:[]})}))}})}for(let t of Object.keys(a)){let o=e.find("[name="+t+"]"),n=a[t];o.on("change",(function(e){let t=$(e.currentTarget).val();jQuery.each(n,(function(e,a){if(t){let e=a.data("api"),o=a.data("payload"),n=a.data("token");a.api({url:e,method:"post",data:{term:t,payload:o,_token:n},on:"now",beforeSend:function(e){return a.dropdown("clear"),a.parent().addClass("loading"),e},onSuccess:function(e,t,o){let n=e.results;a.dropdown("change values",n),1==n.length&&a.dropdown("set selected",n[0].value)},onComplete:function(e,t,o){a.parent().removeClass("loading")}})}else a.dropdown("clear"),a.dropdown("setup menu",{values:[]})}))})),o.val()&&o.trigger("change")}e.find('.checkbox[data-toggle="checkall"]').each((function(){let e=$(this),t=$(document).find(e.data("selector"));$(document).find(e.data("storage"));e.checkbox({onChecked:function(){t.checkbox("check")},onUnchecked:function(){t.checkbox("uncheck")}}),t.checkbox({fireOnInit:!0,onChange:function(){var a=e,o=!0,n=!0,i=[];t.each((function(){$(this).checkbox("is checked")?(n=!1,i.push($(this).children().first().val())):o=!1})),a.val(JSON.stringify(i)).trigger("change"),o?a.checkbox("set checked"):n?a.checkbox("set unchecked"):a.checkbox("set indeterminate")}})})),e.find(".ui.input.calendar").each((function(e,t){const a=$(t);let o=a.data("calendar-type");o||(o="date");let n=a.data("calendar-format");n||(n="YYYY-MM-DD"),a.calendar({type:o,ampm:!1,selectAdjacentDays:!0,onSelect:function(e,a){t.querySelector("input").dispatchEvent(new Event("input"))},formatter:{date:function(e,t){if(!e)return"";const a=e.getHours(),o=e.getMinutes(),i=e.getSeconds(),l=e.getDate(),r=("0"+e.getDate()).slice(-2),s=r,d=e.getMonth()+1,c=("0"+(e.getMonth()+1)).slice(-2),u=c,p=t.text.months[e.getMonth()],f=t.text.monthsShort[e.getMonth()],h=e.getFullYear().toString().substr(2,2),m=e.getFullYear(),g=e.getFullYear();let v=n.replace("h",a).replace("i",o).replace("s",i).replace("j",l).replace("d",s).replace("n",d).replace("m",u).replace("DD",r).replace("YYYY",g).replace("YY",h).replace("Y",m);const $={MMMM:p,MMM:f,MM:c,M:f};let w=n;for(const e in $)w.includes(e)&&(v=v.replace(e,$[e]),w=w.replace(e,""));return v}}})})),e.find("input[type=file].uploader").each((function(e,t){let a=$(t).data("extensions");a=a?a.split(","):null;let o=null;$(t).data("media-url")&&(o={url:$(t).data("media-url"),data:{_token:$(t).data("token"),_key:$(t).attr("name"),_action:"upload"},type:"POST",enctype:"multipart/form-data",start:!0,synchron:!0,chunk:!1,onSuccess:function(e,t,a,o,n,i,l,r){return e.success&&e.files[0]?(t.data.id=e.files[0].data.id??null,t.local=e.files[0].file,t.html.find(".fileuploader-action-remove").addClass("fileuploader-action-success"),setTimeout((function(){t.html.find(".progress-bar2").fadeOut(400)}),400),!0):this.onError(t,a,o,n,i,r,l,e.message)},onError:function(e,t,a,o,n,i,l,r){let s=e.html.find(".progress-bar2");s.length>0&&(s.find("span").html("0%"),s.find(".fileuploader-progressbar .bar").width("0%"),e.html.find(".progress-bar2").fadeOut(400)),"cancelled"!==e.upload.status&&0===e.html.find(".fileuploader-action-retry").length&&e.html.find(".column-actions").prepend('<a class="fileuploader-action fileuploader-action-retry" title="Retry"><i></i></a>'),alert(r+". Try again later.")},onProgress:function(e,t,a,o,n,i){let l=t.html.find(".progress-bar2");l.length>0&&(l.show(),l.find("span").html(e.percentage+"%"),l.find(".fileuploader-progressbar .bar").width(e.percentage+"%"))},onComplete:function(e,t,a,o,n,i){}}),$(t).fileuploader({theme:"simple",limit:$(t).data("limit"),fileMaxSize:$(t).data("file-max-size"),extensions:a,addMore:!0,upload:o,onRemove:function(e){return void 0===e.data.id||$(t).data("media-url")&&$.post($(t).data("media-url"),{_token:$(t).data("token"),_action:"delete",id:e.data.id}),!0},changeInput:'<div class="fileuploader-input"><div class="fileuploader-input-inner"><div><span>${captions.browse}</span></div></div></div>',captions:{browse:"Browse or drop files here"},thumbnails:{removeConfirmation:!1}})})),"function"==typeof AutoNumeric&&$('input[data-role="rupiah"]').length>0&&AutoNumeric.multiple('input[data-role="rupiah"]',{currencySymbol:"",decimalCharacter:",",digitGroupSeparator:".",decimalPlaces:0,unformatOnSubmit:!0}),"object"==typeof google&&"object"==typeof google.maps&&e.find("[data-form-coordinate]").each((function(){let e,t,a=$(this);[t,e]=a.val().split(","),t=t||-7.451808,e=e||111.035929;let o=$("<div>").css("width","100%").css("height",300).css("border-radius",4).css("margin-top","5px");o.insertAfter($(this));let n=new google.maps.LatLng(t,e),i={zoom:17,center:n,mapTypeId:google.maps.MapTypeId.ROADMAP},l=$(this).is("[disabled]");l&&$.extend(i,{gestureHandling:"none",zoomControl:!1});let r=new google.maps.Map(o[0],i),s=new google.maps.Marker({position:n,map:r,draggable:!l});google.maps.event.addListener(s,"drag",(function(){a.val(s.position.lat()+","+s.position.lng())}))}))}}if(window.addEventListener("laravolt.toast",(function(e){$("body").toast(JSON.parse(e.detail))})),"undefined"!=typeof Livewire&&Livewire.hook("message.processed",((e,t)=>{Laravolt.init($('[wire\\:id="'+t.id+'"]'))})),"undefined"!=typeof up&&window.document.documentElement.dataset.spa){up.fragment.config.runScripts=!0,up.fragment.config.navigateOptions.cache=!1;let e=!0;up.compiler('[up-main="modal"]',(function(t){Laravolt.init($(t)),document.documentElement.dataset.theme=t.dataset.theme,document.documentElement.dataset.fontSize=t.dataset.fontSize,document.documentElement.dataset.sidebarDensity=t.dataset.sidebarDensity,document.documentElement.style.setProperty("--app-accent-color","var(--"+t.dataset.accentColor+")"),!e&&window.Livewire&&window.Livewire.restart(),e=!1})),up.link.config.followSelectors.push("a[href]"),up.form.config.submitSelectors.push(["form"]),up.on("up:fragment:loaded",(e=>{500===e.response.status&&(e.preventDefault(),e.request.loadPage())}))}else $((function(){Laravolt.init($("body"))}));$((function(){key("⌘+k, ctrl+k",(function(){$('[data-role="quick-switcher-modal"]').modal({onHide:function(){$('[data-role="quick-menu-searchbox"]').val("").trigger("keyup")}}).modal("show")})),$('[data-role="quick-menu-searchbox"]').on("keyup",(function(e){var t=$(e.currentTarget).val();if($('[data-role="quick-menu-searchbox"]').val(t),$('[data-role="quick-menu"] .items').html(""),""==t)$('[data-role="original-menu"]').show();else{$('[data-role="original-menu"]').hide();var a=[];$('[data-role="original-menu"] a').each((function(e,t){a.push({text:$(t).html(),url:$(t).attr("href")})}));var o=new Fuse(a,{tokenize:!0,threshold:.5,keys:["text"]}).search(t),n="";for(var i in o){var l=o[i];n+="<a class='title' href='"+l.url+"'>"+l.text+"</a>"}$('[data-role="quick-menu"] .items').append(n)}}));var e=$('[data-role="quick-switcher-dropdown"]');$('[data-role="original-menu"] a').each((function(t,a){var o=$(a).data("parent"),n=$(a).html();o&&(n+='<div class="ui mini label right floated">'+o+"</div>");var i=$("<option>").attr("value",$(a).attr("href")).html(n);e.append(i)})),e.dropdown({fullTextSearch:!0,forceSelection:!1,selectOnKeydown:!1,match:"text",action:function(e,t){window.location.href=t}})}));
